<div class="alert alert-info"><%= notice %></div>
<h1>Transaction</h1>
<table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">User</th>
      <th class="th-sm">Total Price</th>
      <th class="th-sm">Total Item</th>
      <th class="th-sm">Status</th>
      <th class="th-sm">Receiver</th>
      <th class="th-sm">Receipt Number</th>
    </tr>
  </thead>
  <tbody>
    <% @transactions.each do |t| %>
      <tr>
        <td><%= link_to t.cart.user.name, admins_transaction_path(t)%></td>
        <td><%= number_to_currency(t.total_price, locale: :id) %></td>
        <td><%= t.cart.cart_products.count  %></td>
        <td><%= t.status.capitalize %></td>
        <td><%if t.receiver.nil?%>
          <%= link_to 'Add Receiver', admins_transaction_input_receiver_path(t.id),  {class: 'btn btn-info', :remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-window', data: {id: t.id}}  %>
          <div id="modal-window" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
        <%else%>
          <%= t.receiver.titleze %>
        <%end%></td>

        <td><%if t.receipt_number.nil?%>
          <%= link_to 'Add Receipt', admins_transaction_input_receipt_path(t.id),  {class: 'btn btn-info', :remote => true, 'data-toggle' =>  "modal", 'data-target' => '#modal-win', data: {id: t.id}}  %>
          <div id="modal-win" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"></div>
        <%else%>
          <%= t.receipt_number %>
        <%end%></td>

        </tr>
    <% end %>
  </tbody>
</table>
</div>

<script>
$(document).ready(function () {
$('#dtBasicExample').DataTable();
$('.dataTables_length').addClass('bs-select');
});
</script>