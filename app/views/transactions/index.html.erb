<div class="alert alert-info"><%= notice %></div>

<h1>Transactions</h1>

<table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">Order Date</th>
      <th class="th-sm">Product Purchased</th>
      <th class="th-sm">Total price</th>
      <th class="th-sm">Order status</th>
    </tr>
  </thead>

  <tbody>
   <% @transactions.each do |transaction| %>
      <tr>
       <td><%= transaction.created_at.strftime("%d-%m-%Y") %></td>
        <td><%= transaction.cart.products.count %></td>
        <td><%= number_to_currency(transaction.total_price, unit: "Rp", delimiter: ".", separator: ",")%></td>
        <td><%= transaction.status.titleize %></td>
        <%if transaction.active? %>
          <td><%= link_to 'Cancel', cancel_transaction_path(transaction), :method => :patch, class: 'btn btn-danger'%></td>
        <%end%>
      </tr>
    <% end %>
  </tbody>
</table>

<script>
$(document).ready(function () {
$('#dtBasicExample').DataTable();
$('.dataTables_length').addClass('bs-select');
});
</script>