<div class="alert alert-info"><%= notice %></div>

<h1>Transactions</h1>
<section class="hero">
  <div class="container">
    <%= search_form_for @q, url: transactions_path do |f| %> 
    <div class="row">
      <div class="col-md-2">
        <%= f.select :status_eq, options_for_select([["All", ""], ["Active", "active"], ["Processed", "processed"],["Deliveery", "delivery"],["Delivered", "delivered"], ["Finished", "finished"], ["Cancelled", "cancelled"]], selected: @q.status_eq), {}, { :class => "form-control" }%>
      </div>
      <div class="col-md-3">
        <%= f.button :Search, class: 'site-btn btn-sm', style: 'height:38px'%>     
      </div>
  </div>
    </div>
    <%end%>
  </div>
</section>

<table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">Order Date</th>
      <th class="th-sm">Product Purchased</th>
      <th class="th-sm">Total price</th>
      <th class="th-sm">Order status</th>
      <th class="th-sm">Check Detail</th>
    </tr>
  </thead>

  <tbody>
   <% @transactions.each do |transaction| %>
      <tr>
       <td><%= transaction.created_at.strftime("%A, %d-%m-%Y") %></td>
        <td><%= transaction.cart.products.count %></td>
        <td><%= number_to_currency(transaction.total_price, locale: :id)%></td>
        <td><%= transaction.status.titleize %></td>
        <td><%= link_to 'Detail', transaction_path(transaction), class: 'btn btn-secondary'%></td>
      </tr>
    <% end %>
  </tbody>
</table>

<script>
$(document).ready(function () {
$('#dtBasicExample').DataTable();
$('.dataTables_length').addClass('bs-select');
});
</script>